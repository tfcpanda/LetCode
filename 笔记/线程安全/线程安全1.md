线程安全的三个特性

1.原子性

2.可见性



# 什么情况下使用多线程

1. 多线程适合做不同的事情, 适合纵向扩展(增加功能), 不适合做横向扩展(增加规模).



**1、高并发**

系统接受实现多用户多请求的高并发时，经过多线程来实现。java

 

**2、线程后台处理大任务**

一个程序是线性执行的。若是程序执行到要花大量时间处理的任务时，那主程序就得等待其执行完才能继续执行下面的。那用户就不得不等待它执行完。spring

这时候能够开线程把花大量时间处理的任务放在线程处理，这样线程在后台处理时，主程序也能够继续执行下去，用户就不须要等待。线程执行完后执行回调函数。数据库

 

**3、大任务**

大任务处理起来比较耗时，这时候能够起到多个线程并行加快处理（例如：分片上传）。缓





多线程和单线程本质区别是：
（1）多线程的产生并不是因为发明了多核CPU甚至现在有多个CPU+多核的硬件，也不是因为多线程CPU运行效率比单线程高。单从CPU的运行效率上考虑，单任务进程及单线程效率是最高的，因为CPU没有任何进程及线程的切换开销，
（2）实际上，多线程的出现主要为了解决IO设备的读写速度往往比CPU的处理速度慢造成的单线程程序运行阻塞问题，一个极端的例子就是如果你需要用户在键盘上输入一个数据，当用户没有输入前，单线程程序就阻塞了，多线程程序就可以放个音乐或继续干一些程序中除了键盘输入外的工作，因此，多线程能提高因程序由于等待某个资源阻塞时其他资源的利用率（是利用率不是效率）。
（3）因此多线程与单线程的最大区别，多线程程序能在等待某个IO操作时，继续完成非这个IO的其他工作，有利于提高完成整个任务的效果和速度。此外，多线程程序与单线程程序对程序设计也有不同的流程和结构，多线程需要考虑对静态变量等资源的操作互锁及程序执行的同步问题。





线程安全

​	在并发访问的时候，不需要额外的调度，这个类可以表现出正常的行为，这个类叫做线程安全的类。



线程不安全

​	多线程并发访问的时候，这个类得不到正常的结果，叫做线程不安全。





